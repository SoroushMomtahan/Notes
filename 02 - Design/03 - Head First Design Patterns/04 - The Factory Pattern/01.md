#### پخت و پز به کمک شی گرایی ----------

گاهی واقعا نیاز به نمونه سازی از یک کلاس به صورت دستی داریم.

در این فصل آماده می شویم تا به کمک مفهوم شی گرایی ، سعی کنیم تا کلاس هایی طراحی کنیم که همراه هم اند اما در عین حال آزادند و جدا کردند این کلاس ها از هم بدون درد و خونریزی هست.

در این فصل یاد می گیریم که فعالیت نمونه سازی همیشه نباید درمعرض دید باشد ، چون باعث بوجود آمدن همراه ناآزاد می شود.

همچنین یاد می گیریم که چگونه با استفاده از الگوی کارخانه (factory pattern) ، می توان از این وابستگی های شرم آور بین کلاس ها جلوگیری کرد.

**اگر کلمه new رو در کد خود دیدید به غیر انتزاعی بودن فکر کنید**

همانطور که گفتیم ، فرایند نمونه سازی ، باعث بوجود آمدن همراه ناآزاد می شود و انعطاف پذیری کد از بین می رود ، حتی اگر از type ، انتزاعی برای ظرف خود استفاده کنیم.

![](./Images/Pasted%20image%2020240628105715.png)

وقتی مجموعه ای از کلاس های غیر انتزاعی مرتبط با هم داریم ، در اکثر موارد به کدی مانند کد زیر میر رسیم:

![](./Images/Pasted%20image%2020240628110225.png)

در بالا ، چندین کلاس غیر انتزاعی داریم که در زمان اجرا بسته به شرایط نمونه سازی می شوند.

حالا فرض کنید ، نیاز دارین این قطعه کد رو در جاهای مختلفی از برنامه خود استفاده کنید ، در این شرایط وقتی نیاز به تغییر این کد (به عنوان مثال اضافه یا حذف کردن) می رسد ، عملا فاجعه رخ می دهد.

اما سوال اینجاست که **گاهی واقعا نیاز به نمونه سازی از یک کلاس به صورت دستی داریم** و از طرفی راه دیگه ای به جز استفاده از کلمه new برای نمونه سازی نداریم ، بنابراین در این رابطه چی کار کنیم ؟

به طور کلی خود عمل نمونه سازی بصورت دستی مشکل نداره اگر فعالیت نمونه سازی رو به جای دیگری منتقل کنیم.

همانطور که قبلا هم گفتیم ، کد نویسی برای interface ها باعث میشه خودمون رو در برابر تغییر ایزوله کنیم ، چون در این صورت کد ما با هر کلاس پیاده سازی کننده interface مورد نظر ، کار می کند اما زمانی که در کد شما چندین نمونه از کلاس های غیر انتزاعی وجود دارد ، هر تغییر در این کلاس های غیر انتزاعی باعث ایجاد مشکل می شود.

به تعریف اصل اول خود برگردیم :

**شناسایی** کنید جنبه های **متغیر** (متفاوت) کد خود را و جدا کنید آن بخش ها را از قطعه کد هایی که ثابت می مانند.

