## Creating a one-to-one relation----------------

کلاس ها با هم می خوان برن تو رابطه !

کلاس `PhotoMetadata.ts` رو در نظر بگیرید ، این کلاس قراره یه سری اطلاعات تکمیلی درباره هر عکس بده.

هر عکس میتونه اطلاعات تکمیلی داشته باشه و هر اطلاعات تکمیلی فقط می تونه متعلق به یک عکس باشه ، بنابراین ارتباط یک به یک است.

```ts
import {
    Entity,
    Column,
    PrimaryGeneratedColumn,
    OneToOne,
    JoinColumn,
} from "typeorm"
import { Photo } from "./Photo"

@Entity()
export class PhotoMetadata {
    @PrimaryGeneratedColumn()
    id: number

    @Column("int")
    height: number

    @Column("int")
    width: number

    @Column()
    orientation: string

    @Column()
    compressed: boolean

    @Column()
    comment: string

    @OneToOne(() => Photo)
    @JoinColumn()
    photo: Photo
}
```

در بالا از یک دکوراتور جدید به اسم `@OneToOne()` استفاده کردیم ، این دکوراتور به ما توانایی برقراری ارتباطات یک به یک بین دو موجودیت رو می دهد.

این `type => Photo` یه function هست که کلاسی که قراره باهاش بریم تو رابطه رو return میکنه. 

این بخاطر حساسیت های زبانه که بجای نوشتن مستقیم اسم کلاس در دکورراتور ، مجبور میشیم از یه function برای برگرداندن اسم کلاس  استفاده کنیم. 

همچنین می تونیم از `() => Photo` بجای `type => Photo` استفاده کنیم ، اما به منظور رعایت قوانین و بالا بردن خوانایی کد ، بهتره از `type => Photo` استفاده کنیم.

این type ای که در `type => Photo` می نویسیم ، شامل هیچی نمیشه و عملا دکوریه

در روابط یک به یک ، برای مشخص کردن طرفی که کلید خارجی باید در آن قرار گیرد ، از دکوراتور `@JoinColumn()` استفاده می کنیم. 

که طبق نوشته ی درون داکیومنت ، نشان دهنده اینه که "کدام طرف مالک رابطه هست" . 
رابطه می تونه یک طرفه و یا دو طرفه باشه و فقط یک طرف میتونه مالک رابطه باشه. استفاده از دکوراتور `@JoinColumn` در طرفی که مالک رابطه هست الزامیست.

در روابط یک طرفه فقط از یک طرف میشه به طرف مقابل دسترسی پیدا کرد و از طرف مقابل امکان دسترسی به طرف دیگر نیست ، مثلا در این مثال ما از دکوراتور `@OneToOne()` فقط در یک طرف استفاده کردیم ، پس رابطه ما یک طرفه است و فقط از `photo_metadata` میشه به `photo` دسترسی پیدا کرد ، برای دو طرفه کردن رابطه باید از دکوراتور `@OneToOne` در موجودیت `photo` نیز استفاده کنیم.

در نهایت جدولی به شکل زیر خواهیم داشت 

```ts
+-------------+--------------+----------------------------+
|                     photo_metadata                      |
+-------------+--------------+----------------------------+
| id          | int(11)      | PRIMARY KEY AUTO_INCREMENT |
| height      | int(11)      |                            |
| width       | int(11)      |                            |
| comment     | varchar(255) |                            |
| compressed  | boolean      |                            |
| orientation | varchar(255) |                            |
| photoId     | int(11)      | FOREIGN KEY                |
+-------------+--------------+----------------------------+
```

