# ارتباط با Service های پایین دستی---------------

هدف ما این است که وقتی کفشی جدید برای فروش موجود شد ، Trading Service به Notification Service و Analyices Service اطلاعاتی درباره این مورد بدهد.

اما سوال اینجاست که داده ای که قراره در قالب پیام از از Trading Service به Notification Service و Analytics Service ارسال شود باید در صف (Queue) قرار گیرد یا موضوع (Topic) ؟

---

در حوزه سیستم‌های توزیع شده و معماری‌های پیام‌رسانی، صف‌ها و موضوعات نقش مهمی در برقراری ارتباط قابل اعتماد و مقیاس‌پذیر دارند. بیایید تفاوت ها و موارد استفاده آنها را بررسی کنیم:

1- صف ها:

![](./Images/Pasted%20image%2020240331193338.png)

**هدف**:
صف ها بلوک های ساختمانی اساسی هستند که برای ارتباط یک به یک طراحی شده اند.

**نحوه کار آنها:**
پیام ها به یک صف خاص ارسال می شوند.
یک گیرنده واحد پیام ها را از صف پردازش می کند.
فرستنده و گیرنده به طور مستقل عمل می کنند و امکان ارتباط ناهمزمان و جدا شده را فراهم می کنند.

**مشخصات:**

ماندگاری پیام:
صف‌ها پیام‌ها را تا زمانی که توسط گیرنده مصرف شود ذخیره می‌کند، حتی اگر گیرنده موقتاً در دسترس نباشد، تحویل مطمئن را تضمین می‌کند.

ارتباط نقطه به نقطه: 
هر پیام توسط یک گیرنده مصرف می شود و از صف حذف می شود.

ضمانت سفارش: 
صف‌ها ترتیب پیام‌ها را حفظ می‌کنند، در سناریوهایی که ترتیب پیام مهم است.

**موارد استفاده:**

توزیع وظایف: 
صف ها وظایف را بین چندین کارگر به شیوه ای متعادل توزیع می کنند.

معماری‌های رویداد محور: 
ارتباطات مبتنی بر رویداد بین میکروسرویس‌ها را تسهیل می‌کند، جایی که رویدادها در یک صف منتشر می‌شوند و توسط مشترکین علاقه‌مند مصرف می‌شوند.

2- موضوعات:

![](./Images/Pasted%20image%2020240331193423.png)

هدف: 
موضوعات برای سناریوهای ارتباطی یک به چند طراحی شده است.

نحوه کار آنها:
پیام ها به یک موضوع منتشر می شوند.
مشترکین متعددی که علاقه مند به دریافت آن پیام ها هستند، آنها را مصرف می کنند.
موضوعات امکان ارتباط به سبک پخش را فراهم می کند.

مشخصات:

مدل انتشار/اشتراک: 
پیام های منتشر شده برای یک موضوع برای همه مشترکین علاقه مند پخش می شود.

فیلتر کردن پیام: 
موضوعات اغلب امکان فیلتر کردن بر اساس محتوا را می‌دهند و مصرف انتخابی پیام را ممکن می‌سازد.

موارد استفاده:

ارتباطات پخش: 
موضوعات پیام‌ها را به همه طرف‌های علاقه‌مند ارسال می‌کنند.

سیستم های اطلاع رسانی مقیاس پذیر: 
ایده آل برای اطلاع رسانی به چندین مشترک در مورد رویدادها یا به روز رسانی ها.

---

